### Usage
- >python exoplanet_gui.py  
This will launch the GUI designed to read and write .pln files.  This can be used to generate new .pln files or modify existing ones.  
- >python Reconciler.py  
Currently, this script is set to run through all .pln files that have not been ingested into EOD and apply a recipe to finalize the files for ingestion.  (Further improvements would be useful to provide command line options for which files to run through, etc.)  
  
### Directory Contents
- /deliveries  
Packaged .pln files sent for ingest to EOD are stored here.  
- /finished_pln  
Saved .pln files that have had final adjustments made and should be ready for EOD ingest are stored here.  
- /generated_pln  
Saved .pln files generated by the exoplanet_gui are automatically stored here.  These files do not include some final tweaks, such as removing any "et al" references and resetting certain parameters that will be calculated by the reconciler code.  
- /python/ExoSourceFile.py  
(In development) Potential YAML-formatted file for collecting parameters for a single exoplanet from a single source.  
- /python/Exoplanet.py  
This contains two classes (ExoParameter and ExoPlanet) used to construct a .pln file as used by exoplanets.org.  An ExoParameter object captures information related to a single exoplanet parameter, such as value, uncertainty values, default value, source, corresponding fields in other databases, etc.  An Exoplanet object consists primarily of a number of ExoParameter objects associated with attributes, with a number of functions to read and write this information to/from various sources.  
- /python/Reconciler.py  
This file contains two classes (Reconciler and ReconcilerSession) designed to finalize .pln files for ingestion to EOD.  Reconciler is a subclass of ExoPlanet with additional methods to replicate the functionality of the original IDL reconciler code by making various corrections and calculations (not full coverage yet though).  ReconcilerSession is designed to provide decorator classes for running Reconciler methods over large sets of .pln files.  
- /python/exoplanet_gui.py  
A PyQt GUI that uses the ExoPlanet class to read and write .pln files.  This allows for much faster .pln creation and editing, with built-in ExoPlanet class file verification.  
- /python/scrape_nasa.py  
This function scrapes data from a NExSci .csv file into .pln files.  
- /python/bin/is_empty.py  
.pln files use a variety of "NaN", "None", and empty strings to represent null values.  Methods are provided here to check for these various cases.  
- /python/lib/CustomNASA.py  
This class provides an object to read various information from data scraped from the NASA Exoplanet Archive.  
- /python/lib/CustomSimbad.py  
This class provides an object to query Simbad for object coordinates and magnitudes.  
- /python/ref/exoparam_template.yaml  
The Exoplanet class uses this file to construct ExoParameter objects replicating a default exoplanet on exoplanets.org.  By using this template, an empty Exoplanet() object will essentially replicate the blank .pln template file.  
- /python/ref/new_exoplanets_to_add.csv  
A CSV file containing just the final resulting table from the summer Python Notebook.  This table is also contained in the SQLite database file.  
- /python/ref/pln_template.yaml  
A listing of which .pln parameters are stored in which categories.  
- /python/ref/skip_planets.txt  
A listing of planets to skip ingesting.  
- *aug03_finished_pln.zip*  
A zipped set of finalized .pln files from 2018 Aug 03.  

- *exoplanet_tables.db*  
A SQLite database file containing the results of the steps and code contained in the Python Notebook.
- *exoplanets_org_work.ipynb*  
A Python Notebook with steps taken and code written to identify a list of confirmed exoplanets listed in both exoplanet.eu and the NASA Exoplanet Archive.  
- *skip_planets.txt*  
A list of planet names to omit from EOD.  
  
### Workflow
1.  We started by comparing confirmed exoplanets in both the [Extrasolar Planets Encyclopaedia](http://exoplanet.eu) and the [NASA Exoplanet Archive](https://exoplanetarchive.ipac.caltech.edu/index.html) with the current contents of exoplanets.org.  This resulted in a list of 366 exoplanets to add.  This work is documented in *exoplanets_org_work.ipynb*.  
2.  We then used the Exoplanet class in *Exoplanet.py* and the data already retrieved for these missing exoplanets to generate .pln files for all 366 exoplanets with pre-loaded parameters.  
3.  It was then a matter of navigating to the source materials to confirm and refine the entered parameters, and add any missing information, before generating a finalized .pln file to be run through the IDL reconciler code.  The updates were done by loading the generated .pln files into the exoplanet_gui.  
4.  Microlensing targets in the list were skipped, and some updates to older planets and new planets around previously-known hosts were added, resulting in a set of 347 .pln files, each of which was manually updated to varying extents.  
5.  These files will need to be processed through the IDL reconciler code and then pushed to the exoplanets.org data Github repo before they are visible on the live site.  
  
### Next Steps
- It will be important to rewrite the IDL reconciler code in Python.  This will allow wider access to .pln file processing, potential revisions to accepted file structures (such as a more formal YAML formatting), and some integration of additional finalization and calculation steps.  
- We will also need a clear plan for keeping exoplanets.org updated going forward, and a better way to keep track of data curation decisions by multiple contributors.  